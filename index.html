<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Henri Mafra ‚Äî Portf√≥lio</title>
<link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;700&family=Sacramento&family=Fira+Code:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#060506;
    --panel: rgba(18,18,20,0.48);
    --muted:#bdb9bf;
    --text:#f6f6f7;
    --ink:#b90000;
    --gold:#ffcf5c;
    --glow: 0 14px 60px rgba(185,0,0,0.12);
    --trans: 420ms cubic-bezier(.2,.9,.2,1);
    --nav-h:72px;
  }
  body.light{
    --bg:#fbfaf8;
    --panel: rgba(255,255,255,0.62);
    --muted:#33363a;
    --text:#111214;
    --ink:#8b0000;
    --gold:#c9a200;
    --glow: 0 12px 48px rgba(150,80,80,0.06);
  }

  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0;
    font-family: 'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    background:
      radial-gradient(900px 420px at 8% 12%, rgba(185,0,0,0.03), transparent),
      var(--bg);
    color:var(--text);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    transition: background var(--trans), color var(--trans);
    overflow-y:auto;
    cursor:none; /* we render a custom cursor */
  }

  /* fixed nav - frosted glass */
  nav{
    position:fixed;
    top:14px;
    left:0;
    right:0;
    display:flex;
    justify-content:center;
    z-index:1400;
  }
  .nav-inner{
    box-sizing:border-box;
    width:100%;
    max-width:1180px;
    display:flex;
    align-items:center;
    justify-content:space-between;
    gap:12px;
    padding:10px 20px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    border-radius:14px;
    backdrop-filter: blur(12px) saturate(120%);
    -webkit-backdrop-filter: blur(12px) saturate(120%);
    box-shadow: var(--glow);
    pointer-events:auto;
  }
  .brand{display:flex;align-items:center;gap:12px}
  .logo{font-family:'Crimson Text',serif;color:var(--gold);font-weight:700;font-size:1.12rem}
  .nav-links{display:flex;align-items:center;gap:10px}
  .nav-links a{color:var(--text);text-decoration:none;font-weight:700;padding:8px 12px;border-radius:10px;transition:all .16s}
  .nav-links a:hover{color:var(--gold);transform:translateY(-3px);text-shadow:0 6px 18px rgba(255,205,75,0.06)}
  .nav-btn{border:1px solid rgba(255,255,255,0.06);padding:8px 12px;border-radius:10px;background:transparent;color:var(--text);cursor:pointer;font-weight:700;transition:transform .14s}
  .nav-btn:hover{transform:scale(1.03)}

  /* subtle background eyes */
  .eyes{position:fixed;left:50%;top:28vh;transform:translateX(-50%);width:320px;height:110px;pointer-events:none;z-index:48}
  .eye{position:absolute;width:104px;height:44px;border-radius:999px;background:radial-gradient(circle at 50% 40%, var(--ink) 0%, transparent 60%);filter:blur(6px);opacity:0;mix-blend-mode:screen}
  .eye.left{left:0;animation:blink 6s infinite}
  .eye.right{right:0;animation:blink 6s infinite 2.8s}
  @keyframes blink{0%,8%,92%,100%{opacity:0;transform:scale(.85)}45%,55%{opacity:.92;transform:scale(1.08)}}

  /* header */
  header{
    min-height: calc(100vh - var(--nav-h));
    padding: calc(var(--nav-h) + 40px) 20px 60px;
    display:flex;
    align-items:center;
    justify-content:center;
    flex-direction:column;
    text-align:center;
    gap:14px;
    position:relative;
    z-index:100;
  }
  .avatar{
    width:180px;height:180px;border-radius:18px;overflow:hidden;border:3px solid rgba(255,255,255,0.04);box-shadow:var(--glow);
    background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
  }
  .avatar img{width:100%;height:100%;object-fit:cover;display:block}

  .sig-wrap{width:560px;height:96px;margin-top:8px;display:flex;align-items:center;justify-content:center;position:relative}
  .sig-svg{width:100%;height:100%}
  .sig-path{fill:none;stroke:var(--text);stroke-width:2.8;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:1600;stroke-dashoffset:1600}
  .sig-fill{fill:var(--ink);opacity:0;transition:opacity 360ms ease;font-family:'Sacramento';font-size:64px}

  #signatureText{position:absolute;left:50%;transform:translateX(-50%);top:52%;font-family:'Sacramento';font-size:60px;color:var(--ink);opacity:0;pointer-events:none;text-shadow:0 10px 40px rgba(185,0,0,0.06)}

  .bio{margin-top:12px;color:var(--muted);font-size:1.06rem;line-height:1.6;max-width:760px}
  .bio p{margin:0}
  .bio p + p{margin-top:0.9rem}
  .intro-desc{margin-top:18px;color:var(--text);max-width:760px;opacity:.95}

  /* sections centered */
  main{display:block}
  section{padding:72px 20px;max-width:980px;margin:0 auto;text-align:center;position:relative;z-index:90}
  h2{font-family:'Crimson Text',serif;font-size:30px;color:var(--ink);margin-bottom:8px}
  .lead{color:var(--muted);margin-bottom:14px}
  .row{display:flex;gap:12px;flex-wrap:wrap;justify-content:center;margin-top:12px}
  .badge{padding:10px 14px;border-radius:12px;background:linear-gradient(180deg, rgba(255,255,255,0.012), rgba(0,0,0,0.03));border:1px solid rgba(255,255,255,0.03);color:var(--text);text-decoration:none;font-weight:700;transition:transform .18s,box-shadow .18s}
  .badge:hover{transform:translateY(-6px);box-shadow:0 18px 60px rgba(0,0,0,0.5)}

  /* fade reveal */
  [data-anim]{opacity:0;transform:translateY(10px);transition:opacity .7s ease,transform .7s ease}
  [data-anim].show{opacity:1;transform:none}

  footer{padding:36px 20px;text-align:center;color:var(--muted);border-top:1px solid rgba(255,255,255,0.02);position:relative;z-index:80}

  /* cursor and trail */
  .cursor{position:fixed;width:18px;height:18px;border-radius:999px;pointer-events:none;z-index:2000;transform:translate(-50%,-50%);background:radial-gradient(circle at 40% 35%, rgba(255,255,255,0.95), rgba(255,255,255,0.6) 10%, transparent 30%);box-shadow:0 8px 26px rgba(185,0,0,0.14);transition:transform 120ms ease,box-shadow 140ms ease,background 140ms ease}
  .cursor.big{transform:translate(-50%,-50%) scale(2.6);box-shadow:0 18px 46px rgba(180,0,0,0.22)}
  .trail{position:fixed;border-radius:50%;pointer-events:none;mix-blend-mode:screen;filter:blur(6px);opacity:0.9}

  @media (max-width:820px){
    .sig-wrap{width:340px;height:70px}
    .avatar{width:124px;height:124px}
    #signatureText{font-size:36px;top:52%}
  }
</style>
</head>
<body>
  <!-- nav -->
  <nav aria-label="Navega√ß√£o principal">
    <div class="nav-inner">
      <div class="brand"><div class="logo">&lt;HenriMafra/&gt;</div></div>
      <div class="nav-links" role="navigation">
        <a href="#inicio">In√≠cio</a>
        <a href="#projetos">Projetos</a>
        <a href="#contato">Contato</a>
        <a href="#perfis">Perfis</a>
        <button class="nav-btn" id="themeToggle" aria-pressed="false" title="Alternar tema">Tema</button>
        <button class="nav-btn" id="soundBtn" title="Ativar som">Ativar som</button>
      </div>
    </div>
  </nav>

  <!-- subtle eyes -->
  <div class="eyes" aria-hidden="true">
    <div class="eye left"></div>
    <div class="eye right"></div>
  </div>

  <!-- custom cursor -->
  <div id="cursor" class="cursor" aria-hidden="true"></div>

  <!-- header -->
  <header id="inicio" role="banner">
    <div class="avatar" aria-hidden="true">
      <img src="https://avatars.githubusercontent.com/u/104782116?v=4" alt="Avatar de Henri Mafra">
    </div>

    <div class="sig-wrap" aria-hidden="true">
      <svg class="sig-svg" viewBox="0 0 520 86" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
        <path id="sigPath" class="sig-path" d="M12 54 C36 18, 86 12, 132 36 C180 62, 220 52, 260 34 C300 16, 340 40, 380 30 C420 20, 460 62, 504 52"/>
        <text x="20" y="58" class="sig-fill">Henri Mafra</text>
      </svg>
    </div>

    <div id="signatureText" aria-hidden="true">Henri Mafra</div>

    <div class="bio" aria-label="Biografia curta">
      <p>üë®‚Äçüíª Estudante de Ci√™ncia de Dados e Machine Learning</p>
      <p>ü§ñ Apaixonado por IA | üêç Entusiasta de Python</p>
    </div>

    <p class="intro-desc">Exploro intelig√™ncia artificial, ci√™ncia de dados e automa√ß√£o com foco em criar solu√ß√µes precisas e elegantes.</p>
  </header>

  <main>
    <section id="projetos" data-anim>
      <h2>üíª Projetos</h2>
      <p class="lead">Reposit√≥rios, experimentos e demonstra√ß√µes de modelos, pipelines e visualiza√ß√µes.</p>
      <div class="row">
        <a class="badge" href="https://github.com/HenriMafra" target="_blank" rel="noopener">üîó GitHub</a>
      </div>
    </section>

    <section id="contato" data-anim>
      <h2>üì° Contato</h2>
      <p class="lead">Vamos conversar sobre colabora√ß√£o, consultoria ou projetos.</p>
      <div class="row">
        <a class="badge" href="mailto:henri.afly@gmail.com">üìß henri.afly@gmail.com</a>
        <a class="badge" href="https://www.linkedin.com/in/henri-felipe-marques-mafra-961538352/" target="_blank" rel="noopener">üíº LinkedIn</a>
      </div>
    </section>

    <section id="perfis" data-anim>
      <h2>üëæ Perfis de Desenvolvimento</h2>
      <p class="lead">Siga e veja meus projetos e contribui√ß√µes t√©cnicas.</p>
      <div class="row">
        <a class="badge" href="https://huggingface.co/HENRI10" target="_blank" rel="noopener">ü§ó Hugging Face</a>
        <a class="badge" href="https://leetcode.com/u/Henri1/" target="_blank" rel="noopener">üí° LeetCode</a>
        <a class="badge" href="https://www.hackerrank.com/profile/henri_afly" target="_blank" rel="noopener">üß© HackerRank</a>
        <a class="badge" href="https://www.kaggle.com/henrimafra" target="_blank" rel="noopener">üìä Kaggle</a>
      </div>
    </section>
  </main>

  <footer>¬© 2025 Henri Mafra ‚Äî Portf√≥lio</footer>

<script>
/* ---------- small helpers ---------- */
const $ = sel => document.querySelector(sel);
const $$ = sel => Array.from(document.querySelectorAll(sel));

/* ---------- signature: show-only-on-first-visit (visual) ---------- */
const sigPath = document.getElementById('sigPath');
const sigText = document.getElementById('signatureText');

function prepareSignature(){
  if(!sigPath) return;
  const L = sigPath.getTotalLength();
  sigPath.style.strokeDasharray = L;
  sigPath.style.strokeDashoffset = L;
  sigPath.getBoundingClientRect();
}
function animateSignature(){
  if(!sigPath) return;
  const L = sigPath.getTotalLength();
  const start = performance.now();
  const dur = 1200;
  function frame(now){
    const t = Math.min(1, (now - start)/dur);
    const ease = (--t)*t*t+1;
    sigPath.style.strokeDashoffset = Math.max(0, Math.floor(L*(1-ease)));
    if(now - start < dur) requestAnimationFrame(frame);
    else {
      sigText.style.opacity = 1;
    }
  }
  requestAnimationFrame(frame);
}
// on first visit (session) animate; otherwise show static
if(!sessionStorage.getItem('sigShown')){
  prepareSignature();
  // animate as soon as DOM loaded
  window.addEventListener('load', ()=> { animateSignature(); sessionStorage.setItem('sigShown','1'); });
} else {
  // show immediately
  if(sigPath) sigPath.style.strokeDashoffset = 0;
  if(sigText) sigText.style.opacity = 1;
}

/* ---------- fade reveal for sections ---------- */
const observer = new IntersectionObserver((entries)=>{
  entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('show'); });
},{threshold:0.18});
$$('[data-anim]').forEach(el => observer.observe(el));

/* ---------- particles canvas ---------- */
const canvas = document.createElement('canvas');
canvas.style.position = 'fixed';
canvas.style.inset = '0';
canvas.style.zIndex = '0';
canvas.id = 'bgParticles';
document.body.appendChild(canvas);
const ctx = canvas.getContext('2d');
let W = innerWidth, H = innerHeight;
function resize(){ W = innerWidth; H = innerHeight; canvas.width = W; canvas.height = H; }
window.addEventListener('resize', resize); resize();
const parts = [];
for(let i=0;i<84;i++){
  parts.push({ x: Math.random()*W, y: Math.random()*H, r: Math.random()*1.9+0.4, dx:(Math.random()-.5)*0.6, dy:(Math.random()-.5)*0.6, color: Math.random()>0.62 ? 'rgba(185,0,0,0.86)' : 'rgba(255,204,92,0.78)' });
}
function loop(){ ctx.clearRect(0,0,W,H); for(const p of parts){ ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=p.color; ctx.fill(); p.x+=p.dx; p.y+=p.dy; if(p.x<-20||p.x>W+20) p.dx*=-1; if(p.y<-20||p.y>H+20) p.dy*=-1; } requestAnimationFrame(loop); }
loop();

/* ---------- custom cursor & trail ---------- */
const cursor = $('#cursor');
if(cursor){
  let mx = innerWidth/2, my = innerHeight/2;
  window.addEventListener('mousemove', e => {
    mx = e.clientX; my = e.clientY;
    cursor.style.left = mx + 'px'; cursor.style.top = my + 'px';
    spawnTrail(mx,my);
  });
  window.addEventListener('mousedown', ()=> cursor.classList.add('big'));
  window.addEventListener('mouseup', ()=> cursor.classList.remove('big'));
}
function spawnTrail(x,y){
  const el = document.createElement('div'); el.className='trail';
  const s = 6 + Math.random()*18; el.style.width = el.style.height = s + 'px';
  el.style.left = x + 'px'; el.style.top = y + 'px';
  el.style.background = Math.random()>0.6 ? 'rgba(185,0,0,0.12)' : 'rgba(255,205,75,0.06)';
  el.style.zIndex = 200;
  document.body.appendChild(el);
  setTimeout(()=>{ el.style.transition = 'opacity 900ms ease, transform 900ms ease'; el.style.opacity = '0'; el.style.transform = 'scale(2)'; }, 20);
  setTimeout(()=> el.remove(), 950);
}

/* ---------- WebAudio: cinematic orchestral ambient (synth-based) ---------- */
const AudioCtx = window.AudioContext || window.webkitAudioContext;
let audioCtx = null, masterGain = null, ambientNodes = [], ambientRunning = false;
function ensureAudio(){
  if(audioCtx) return audioCtx;
  audioCtx = new AudioCtx();
  masterGain = audioCtx.createGain();
  masterGain.gain.value = 0.0001;
  masterGain.connect(audioCtx.destination);
  return audioCtx;
}
/* make a simple reverb (impulse) */
function makeReverb(seconds = 2.2){
  const ctx = audioCtx;
  const rate = ctx.sampleRate;
  const length = Math.floor(rate * seconds);
  const impulse = ctx.createBuffer(2, length, rate);
  for(let ch=0; ch<2; ch++){
    const data = impulse.getChannelData(ch);
    for(let i=0;i<length;i++){
      // exponential decay noise for a dark hall
      data[i] = (Math.random()*2-1) * Math.pow(1 - i/length, 3);
    }
  }
  return impulse;
}
function startAmbientCinematic(){
  if(ambientRunning) return;
  ensureAudio();
  const ctx = audioCtx;

  // pad cluster (detuned oscillators)
  const pad = ctx.createGain(); pad.gain.value = 0.0;
  const freqs = [40, 48, 60];
  const padOsc = freqs.map(f => {
    const o = ctx.createOscillator();
    o.type = 'sine';
    o.frequency.value = f + (Math.random()-0.5)*1.6;
    const g = ctx.createGain(); g.gain.value = 0.0;
    o.connect(g); g.connect(pad);
    o.start();
    return {o,g};
  });

  // filter for warmth
  const lp = ctx.createBiquadFilter(); lp.type='lowpass'; lp.frequency.value = 900;
  pad.connect(lp);

  // reverb
  const convolver = ctx.createConvolver();
  convolver.buffer = makeReverb(3.6);
  const revMix = ctx.createGain(); revMix.gain.value = 0.15;
  lp.connect(revMix); revMix.connect(convolver); convolver.connect(masterGain);

  // dry to master
  lp.connect(masterGain);

  // slow LFO to modulate filter frequency (texture)
  const lfo = ctx.createOscillator(); lfo.type='sine'; lfo.frequency.value = 0.05;
  const lfoG = ctx.createGain(); lfoG.gain.value = 400;
  lfo.connect(lfoG); lfoG.connect(lp.frequency); lfo.start();

  // orchestral hits (bell-like) occasionally
  function scheduleHit(){
    const now = ctx.currentTime;
    const osc = ctx.createOscillator(); osc.type='triangle';
    const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
    osc.frequency.setValueAtTime(420 + Math.random()*220, now);
    osc.connect(g); g.connect(masterGain);
    g.gain.exponentialRampToValueAtTime(0.06, now + 0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, now + 0.8);
    osc.start(now); osc.stop(now + 0.9);
    setTimeout(scheduleHit, 4000 + Math.random()*9000);
  }
  setTimeout(scheduleHit, 2400);

  // crescendo: ramp pad gain up
  const target = 0.5;
  pad.connect(masterGain); // direct path (also filtered above)
  pad.gain.setValueAtTime(0.0001, ctx.currentTime);
  pad.gain.exponentialRampToValueAtTime(0.02, ctx.currentTime + 0.8);
  // slowly set each oscillator gain to voiced level
  padOsc.forEach((obj, i) => {
    obj.g.gain.setValueAtTime(0.0001, ctx.currentTime);
    obj.g.gain.exponentialRampToValueAtTime(0.06 * (1 + i*0.2), ctx.currentTime + 3.2);
  });

  // set master loudness target (crescendo)
  masterGain.gain.cancelScheduledValues(ctx.currentTime);
  masterGain.gain.setValueAtTime(0.0001, ctx.currentTime);
  masterGain.gain.exponentialRampToValueAtTime(0.6, ctx.currentTime + 4.0);

  ambientNodes = { padOsc, lp, convolver, lfo, revMix };
  ambientRunning = true;
}
function stopAmbientCinematic(){
  if(!audioCtx || !ambientRunning) return;
  masterGain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 1.0);
  ambientRunning = false;
}

/* play a pen-like transient (used optionally on first enable) */
function playPenShort(){
  const ctx = ensureAudio();
  const now = ctx.currentTime;
  const buffer = ctx.createBuffer(1, ctx.sampleRate * 0.25, ctx.sampleRate);
  const d = buffer.getChannelData(0);
  for(let i=0;i<d.length;i++) d[i] = (Math.random()*2-1) * Math.exp(-i/d.length*6);
  const src = ctx.createBufferSource(); src.buffer = buffer;
  const filt = ctx.createBiquadFilter(); filt.type='bandpass'; filt.frequency.value = 1200;
  const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
  src.connect(filt); filt.connect(g); g.connect(masterGain);
  g.gain.exponentialRampToValueAtTime(0.12, now + 0.01);
  g.gain.exponentialRampToValueAtTime(0.0001, now + 0.25);
  src.start(now); src.stop(now + 0.25);
}

/* ---------- connect UI: theme & sound ---------- */
$('#themeToggle').addEventListener('click', () => {
  document.body.classList.toggle('light');
  // small audio cue if available
  try{ ensureAudio(); playPenShort(); }catch(e){}
});

let soundEnabled = false;
$('#soundBtn').addEventListener('click', () => {
  // first gesture: ensure context and play pen then ambient crescendo
  ensureAudio();
  if(!soundEnabled){
    playPenShort();
    startAmbientCinematic();
    $('#soundBtn').textContent = 'Som ativado';
    soundEnabled = true;
  } else {
    // toggle mute/fade out
    if(ambientRunning){
      stopAmbientCinematic();
      $('#soundBtn').textContent = 'Som desativado';
    } else {
      startAmbientCinematic();
      $('#soundBtn').textContent = 'Som ativado';
    }
  }
});

/* ---------- hover/click micro-sounds ---------- */
$$('.badge, .nav-links a, .nav-btn').forEach(el=>{
  el.addEventListener('mouseenter', ()=>{ try{ ensureAudio(); const ctx = audioCtx; const o = ctx.createOscillator(); const g = ctx.createGain(); o.type='sine'; o.frequency.value = 420; o.connect(g); g.connect(masterGain); g.gain.setValueAtTime(0.0001, ctx.currentTime); g.gain.exponentialRampToValueAtTime(0.02, ctx.currentTime + 0.005); g.gain.exponentialRampToValueAtTime(0.0001, ctx.currentTime + 0.12); o.start(ctx.currentTime); o.stop(ctx.currentTime + 0.14);}catch(e){} });
  el.addEventListener('click', ()=>{ try{ ensureAudio(); playPenShort(); }catch(e){} });
});

/* ---------- smooth anchor scroll ---------- */
$$('a[href^="#"]').forEach(a=>{
  a.addEventListener('click', (ev)=>{
    const id = a.getAttribute('href').slice(1);
    const el = document.getElementById(id);
    if(el){ ev.preventDefault(); el.scrollIntoView({behavior:'smooth', block:'start'}); }
  });
});

/* ---------- signature: ensure it triggers on first *visit* (not reload behavior) ---------- */
// Already handled at top by sessionStorage 'sigShown'

// ensure audio unlock on first pointerdown for browsers
function resumeOnGesture(){ if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume(); window.removeEventListener('pointerdown', resumeOnGesture); }
window.addEventListener('pointerdown', resumeOnGesture, { once: true });
</script>
</body>
</html>
