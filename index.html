<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Henri Mafra ‚Äî Portf√≥lio</title>
  <link href="https://fonts.googleapis.com/css2?family=Crimson+Text:wght@400;700&family=Sacramento&family=Fira+Code:wght@400;700&family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#060506;
      --panel: rgba(18,18,20,0.48);
      --panel-solid:#0f0f12;
      --muted:#bdb9bf;
      --text:#f6f6f7;
      --ink:#b90000;
      --gold:#ffcf5c;
      --glow: 0 12px 50px rgba(185,0,0,0.12);
      --trans: 420ms cubic-bezier(.2,.9,.2,1);
      --nav-height:66px;
    }
    body.light{
      --bg:#fbfaf8;
      --panel: rgba(255,255,255,0.62);
      --panel-solid:#fffdfb;
      --muted:#33363a;
      --text:#111214;
      --ink:#8b0000;
      --gold:#c9a200;
      --glow: 0 10px 40px rgba(150,80,80,0.06);
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: 'Montserrat', system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      background:
        radial-gradient(900px 420px at 8% 12%, rgba(185,0,0,0.04), transparent),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition: background var(--trans), color var(--trans);
      overflow-y:auto;
      cursor: none; /* custom cursor */
    }

    /* ---------- NAV (fixed, frosted glass) ---------- */
    nav{
      position:fixed;
      top:12px;
      left:0;
      right:0;
      height:var(--nav-height);
      display:flex;
      justify-content:center;
      z-index:1200;
      pointer-events:auto;
    }
    .nav-inner{
      width:100%;
      max-width:1180px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:8px 20px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
      border-radius:12px;
      backdrop-filter: blur(12px) saturate(120%);
      -webkit-backdrop-filter: blur(12px) saturate(120%);
      box-shadow: var(--glow);
    }
    .brand { display:flex; align-items:center; gap:12px; }
    .logo { font-family:'Crimson Text', serif; color:var(--gold); font-weight:700; font-size:1.1rem; }
    .nav-links { display:flex; align-items:center; gap:10px; }
    .nav-links a {
      color:var(--text);
      text-decoration:none;
      font-weight:700;
      padding:8px 12px;
      border-radius:10px;
      transition: all 160ms ease;
    }
    .nav-links a:hover { color:var(--gold); transform:translateY(-3px); text-shadow:0 6px 18px rgba(255,205,75,0.06); }
    .nav-btn {
      border:1px solid rgba(255,255,255,0.06);
      padding:8px 12px;
      border-radius:10px;
      background:transparent;
      color:var(--text);
      cursor:pointer;
      font-weight:700;
      transition: transform 160ms ease;
      backdrop-filter: blur(6px);
    }
    .nav-btn:hover { transform:scale(1.03); }

    /* ---------- eyes (background) ---------- */
    .eyes {
      position:fixed;
      left:50%;
      top:28vh;
      transform:translateX(-50%);
      width:300px;
      height:100px;
      pointer-events:none;
      z-index:50;
    }
    .eye{
      position:absolute;
      width:96px;
      height:40px;
      border-radius:999px;
      background: radial-gradient(circle at 50% 40%, var(--ink) 0%, transparent 60%);
      filter: blur(6px);
      opacity:0;
      mix-blend-mode:screen;
    }
    .eye.left{ left:0; animation:blink 6s infinite; }
    .eye.right{ right:0; animation:blink 6s infinite 2.8s; }
    @keyframes blink { 0%,8%,92%,100%{opacity:0; transform:scale(.85)}45%,55%{opacity:.92; transform:scale(1.08)} }

    /* ---------- header / signature ---------- */
    header {
      min-height:calc(100vh - var(--nav-height));
      padding: 110px 20px 60px;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      text-align:center;
      gap:16px;
      position:relative;
      z-index:100;
    }
    .avatar{
      width:180px;
      height:180px;
      border-radius:18px;
      overflow:hidden;
      border:3px solid rgba(255,255,255,0.04);
      box-shadow:var(--glow);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));
    }
    .avatar img{ width:100%; height:100%; object-fit:cover; display:block; }

    .sig-wrap{ width:560px; height:96px; margin-top:6px; display:flex; align-items:center; justify-content:center; position:relative; }
    .sig-svg{ width:100%; height:100%; }
    .sig-path{ fill:none; stroke:var(--text); stroke-width:2.6; stroke-linecap:round; stroke-linejoin:round; stroke-dasharray:1400; stroke-dashoffset:1400; transition: stroke-dashoffset 1.2s ease-in-out; opacity:0.98; }
    .sig-fill{ fill:var(--ink); opacity:0; transition:opacity 360ms ease; font-family:'Sacramento'; font-size:64px; }

    #signatureText {
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      top:52%;
      font-family:'Sacramento';
      font-size:56px;
      color:var(--ink);
      opacity:0;
      pointer-events:none;
      text-shadow: 0 8px 40px rgba(185,0,0,0.06);
    }

    .bio{ margin-top:12px; color:var(--muted); font-size:1.06rem; line-height:1.6; max-width:760px; }
    .bio p{ margin:0; }
    .bio p + p { margin-top:0.9rem; } /* required spacing */

    .intro-desc{ margin-top:18px; color:var(--text); max-width:760px; opacity:.95; }

    /* ---------- sections centered with fade ---------- */
    main { display:block; width:100%; }
    section {
      padding:72px 20px;
      max-width:980px;
      margin:0 auto;
      text-align:center;
      position:relative;
      z-index:80;
    }
    h2 { font-family:'Crimson Text', serif; font-size:30px; color:var(--ink); margin-bottom:8px; }
    .lead { color:var(--muted); margin-bottom:14px; }
    .row { display:flex; gap:12px; flex-wrap:wrap; justify-content:center; margin-top:12px; }
    .badge {
      padding:10px 14px;
      border-radius:12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.012), rgba(0,0,0,0.03));
      border: 1px solid rgba(255,255,255,0.03);
      color:var(--text);
      text-decoration:none;
      font-weight:700;
      transition: transform 180ms ease, box-shadow 180ms ease;
    }
    .badge:hover { transform:translateY(-6px); box-shadow: 0 18px 60px rgba(0,0,0,0.5); }

    /* reveal (fade) */
    [data-anim] { opacity:0; transform:translateY(10px); transition: opacity .7s ease, transform .7s ease; }
    [data-anim].show { opacity:1; transform:none; }

    footer { padding:38px 20px; text-align:center; color:var(--muted); border-top:1px solid rgba(255,255,255,0.02); }

    /* ---------- custom cursor & trail ---------- */
    .cursor {
      position:fixed;
      width:18px;
      height:18px;
      border-radius:999px;
      pointer-events:none;
      z-index:2000;
      transform:translate(-50%, -50%);
      background: radial-gradient(circle at 40% 35%, rgba(255,255,255,0.95), rgba(255,255,255,0.6) 10%, transparent 30%);
      box-shadow: 0 8px 26px rgba(185,0,0,0.14);
      transition: transform 120ms ease, box-shadow 140ms ease, background 140ms ease;
    }
    .cursor.big { transform:translate(-50%,-50%) scale(2.6); box-shadow: 0 18px 46px rgba(180,0,0,0.22); }
    .trail { position:fixed; border-radius:50%; pointer-events:none; mix-blend-mode:screen; filter:blur(6px); opacity:0.9; }

    /* responsive */
    @media (max-width:820px){
      .sig-wrap{ width:340px; height:70px; }
      .avatar{ width:124px; height:124px; }
      #signatureText{ font-size:36px; top:52%; }
    }
  </style>
</head>
<body>
  <!-- fixed nav -->
  <nav aria-label="Navega√ß√£o principal">
    <div class="nav-inner" role="navigation">
      <div class="brand">
        <div class="logo">&lt;HenriMafra/&gt;</div>
      </div>
      <div class="nav-links">
        <a href="#inicio">In√≠cio</a>
        <a href="#projetos">Projetos</a>
        <a href="#contato">Contato</a>
        <a href="#perfis">Perfis</a>
        <button class="nav-btn nav-btn--theme nav-btn--small" id="themeToggle" aria-pressed="false" title="Alternar tema">Tema</button>
        <button class="nav-btn nav-btn--sound nav-btn--small" id="soundToggle" title="Ativar som">Ativar som</button>
      </div>
    </div>
  </nav>

  <!-- subtle eyes -->
  <div class="eyes" aria-hidden="true">
    <div class="eye left"></div>
    <div class="eye right"></div>
  </div>

  <!-- custom cursor -->
  <div id="cursor" class="cursor" aria-hidden="true"></div>

  <header id="inicio" role="banner">
    <div class="avatar" aria-hidden="true">
      <img src="https://avatars.githubusercontent.com/u/104782116?v=4" alt="Avatar de Henri Mafra">
    </div>

    <div class="sig-wrap" aria-hidden="true">
      <svg class="sig-svg" viewBox="0 0 520 86" preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg">
        <path id="sigPath" class="sig-path" d="M12 54 C36 18, 86 12, 132 36 C180 62, 220 52, 260 34 C300 16, 340 40, 380 30 C420 20, 460 62, 504 52" />
        <text x="20" y="58" class="sig-fill">Henri Mafra</text>
      </svg>
    </div>
    <div id="signatureText" aria-hidden="true">Henri Mafra</div>

    <div class="bio" aria-label="Biografia curta">
      <p>üë®‚Äçüíª Estudante de Ci√™ncia de Dados e Machine Learning</p>
      <p>ü§ñ Apaixonado por IA | üêç Entusiasta de Python</p>
    </div>

    <p class="intro-desc">Exploro intelig√™ncia artificial, ci√™ncia de dados e automa√ß√£o com foco em criar solu√ß√µes precisas e elegantes.</p>
  </header>

  <main>
    <section id="projetos" data-anim>
      <h2>üíª Projetos</h2>
      <p class="lead">Reposit√≥rios, experimentos e demonstra√ß√µes de modelos, pipelines e visualiza√ß√µes.</p>
      <div class="row">
        <a class="badge" href="https://github.com/HenriMafra" target="_blank" rel="noopener">üîó GitHub</a>
      </div>
    </section>

    <section id="contato" data-anim>
      <h2>üì° Contato</h2>
      <p class="lead">Vamos conversar sobre colabora√ß√£o, consultoria ou projetos.</p>
      <div class="row">
        <a class="badge" href="mailto:henri.afly@gmail.com">üìß henri.afly@gmail.com</a>
        <a class="badge" href="https://www.linkedin.com/in/henri-felipe-marques-mafra-961538352/" target="_blank" rel="noopener">üíº LinkedIn</a>
      </div>
    </section>

    <section id="perfis" data-anim>
      <h2>üëæ Perfis de Desenvolvimento</h2>
      <p class="lead">Siga meus projetos e contribui√ß√µes t√©cnicas:</p>
      <div class="row">
        <a class="badge" href="https://github.com/HenriMafra" target="_blank" rel="noopener">üêô GitHub</a>
        <a class="badge" href="https://huggingface.co/HENRI10" target="_blank" rel="noopener">ü§ó Hugging Face</a>
        <a class="badge" href="https://leetcode.com/u/Henri1/" target="_blank" rel="noopener">üí° LeetCode</a>
        <a class="badge" href="https://www.hackerrank.com/profile/henri_afly" target="_blank" rel="noopener">üß© HackerRank</a>
        <a class="badge" href="https://www.kaggle.com/henrimafra" target="_blank" rel="noopener">üìä Kaggle</a>
      </div>
    </section>
  </main>

  <footer>¬© 2025 Henri Mafra ‚Äî Portf√≥lio</footer>

  <!-- AUDIO & INTERACTION SCRIPT -->
  <script>
  /* ------------------ WebAudio (ambient + fx) ------------------ */
  const AudioCtx = window.AudioContext || window.webkitAudioContext;
  let audioCtx = null, masterGain = null, ambientRunning = false, muted = false;

  function ensureAudio(){
    if(audioCtx) return audioCtx;
    audioCtx = new AudioCtx();
    masterGain = audioCtx.createGain();
    masterGain.gain.value = 0.0001;
    masterGain.connect(audioCtx.destination);
    return audioCtx;
  }

  function startAmbient(){
    if(ambientRunning) return;
    ensureAudio();
    const ctx = audioCtx;

    // pad (two detuned sine)
    const padGain = ctx.createGain(); padGain.gain.value = 0.14;
    const o1 = ctx.createOscillator(); o1.type = 'sine'; o1.frequency.value = 46;
    const o2 = ctx.createOscillator(); o2.type = 'sine'; o2.frequency.value = 52;
    const lp = ctx.createBiquadFilter(); lp.type = 'lowpass'; lp.frequency.value = 800;
    o1.connect(lp); o2.connect(lp); lp.connect(padGain); padGain.connect(masterGain);
    o1.start(); o2.start();

    // slow LFO for texture
    const lfo = ctx.createOscillator(); lfo.type = 'sine'; lfo.frequency.value = 0.08;
    const lfoGain = ctx.createGain(); lfoGain.gain.value = 300;
    lfo.connect(lfoGain); lfoGain.connect(lp.frequency); lfo.start();

    // occasional bell
    function scheduleBell(){
      const now = ctx.currentTime;
      const osc = ctx.createOscillator(); osc.type='triangle';
      const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
      const freq = 420 + Math.random()*160;
      osc.frequency.setValueAtTime(freq, now);
      osc.connect(g); g.connect(masterGain);
      g.gain.exponentialRampToValueAtTime(0.035, now + 0.02);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.6);
      osc.start(now); osc.stop(now + 0.6);
      setTimeout(scheduleBell, 3000 + Math.random()*8000);
    }
    setTimeout(scheduleBell, 1800);

    // fade in
    masterGain.gain.setValueAtTime(0.0001, ctx.currentTime);
    masterGain.gain.exponentialRampToValueAtTime(0.6, ctx.currentTime + 2.0);

    ambientRunning = true;
  }

  function toggleAmbient(){
    if(!audioCtx) ensureAudio();
    if(!ambientRunning){
      startAmbient();
      muted = false;
    } else {
      // soft fade out
      masterGain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.8);
      ambientRunning = false;
      muted = true;
    }
  }

  function playPen(duration=900){
    const ctx = ensureAudio();
    const now = ctx.currentTime;
    const buffer = ctx.createBuffer(1, ctx.sampleRate*(duration/1000), ctx.sampleRate);
    const d = buffer.getChannelData(0);
    for(let i=0;i<d.length;i++) d[i] = (Math.random()*2-1) * Math.exp(-i/d.length*2);
    const src = ctx.createBufferSource(); src.buffer = buffer;
    const filt = ctx.createBiquadFilter(); filt.type='bandpass'; filt.frequency.value=1200;
    const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
    src.connect(filt); filt.connect(g); g.connect(masterGain);
    g.gain.exponentialRampToValueAtTime(0.16, now + 0.02);
    g.gain.exponentialRampToValueAtTime(0.0001, now + duration/1000);
    src.start(now); src.stop(now + duration/1000);
    // click
    const osc = ctx.createOscillator(); osc.type='sine'; osc.frequency.value=800;
    const og = ctx.createGain(); og.gain.setValueAtTime(0.0001, now);
    osc.connect(og); og.connect(masterGain);
    og.gain.exponentialRampToValueAtTime(0.06, now + 0.01);
    og.gain.exponentialRampToValueAtTime(0.0001, now + 0.09);
    osc.start(now); osc.stop(now + 0.09);
  }

  function playSoft(){
    try{
      const ctx = ensureAudio(); const now = ctx.currentTime;
      const o = ctx.createOscillator(); o.type='triangle'; o.frequency.value = 420;
      const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
      o.connect(g); g.connect(masterGain);
      g.gain.exponentialRampToValueAtTime(0.02, now + 0.006);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.12);
      o.start(now); o.stop(now + 0.14);
    }catch(e){}
  }

  function playToggleTone(){
    try{
      const ctx = ensureAudio(); const now = ctx.currentTime;
      const o = ctx.createOscillator(); o.type='sine'; o.frequency.setValueAtTime(220, now);
      const g = ctx.createGain(); g.gain.setValueAtTime(0.0001, now);
      o.connect(g); g.connect(masterGain);
      g.gain.exponentialRampToValueAtTime(0.028, now + 0.01);
      g.gain.exponentialRampToValueAtTime(0.0001, now + 0.26);
      o.frequency.exponentialRampToValueAtTime(660, now + 0.22);
      o.start(now); o.stop(now + 0.28);
    }catch(e){}
  }

  /* ------------------ Signature animation (visual + pen sound on first gesture) ------------------ */
  const sigPath = document.getElementById('sigPath');
  const sigText = document.getElementById('signatureText');

  function prepareSignature(){
    if(!sigPath) return;
    const L = sigPath.getTotalLength();
    sigPath.style.strokeDasharray = L;
    sigPath.style.strokeDashoffset = L;
    sigPath.getBoundingClientRect();
  }

  function animateSignatureVisualOnly(){
    if(!sigPath) return;
    const L = sigPath.getTotalLength();
    const start = performance.now();
    const dur = 1200;
    function frame(t){
      const p = Math.min(1,(t-start)/dur);
      const ease = (--p)*p*p+1;
      sigPath.style.strokeDashoffset = Math.max(0, Math.floor(L*(1-ease)));
      if((t-start) < dur) requestAnimationFrame(frame);
      else sigText.style.opacity = 1;
    }
    requestAnimationFrame(frame);
  }

  // play pen sound at first user gesture (to comply with autoplay)
  let penPlayed = sessionStorage.getItem('penPlayed') === '1';
  function onFirstGesturePlayPen(){
    if(!penPlayed){
      playPen(1100);
      sessionStorage.setItem('penPlayed','1');
      penPlayed = true;
    }
    if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
    window.removeEventListener('pointerdown', onFirstGesturePlayPen);
  }

  /* ------------------ Particles visual ------------------ */
  const canvas = document.createElement('canvas');
  canvas.id = 'particles';
  document.body.appendChild(canvas);
  const ctx = canvas.getContext('2d');
  let W = innerWidth, H = innerHeight;
  function resizeCanvas(){ W = innerWidth; H = innerHeight; canvas.width = W; canvas.height = H; }
  window.addEventListener('resize', resizeCanvas); resizeCanvas();

  const particles = [];
  for(let i=0;i<96;i++){
    particles.push({
      x: Math.random()*W,
      y: Math.random()*H,
      r: Math.random()*1.9+0.4,
      dx: (Math.random()-.5)*0.6,
      dy: (Math.random()-.5)*0.6,
      color: Math.random()>0.62 ? 'rgba(185,0,0,0.86)' : 'rgba(255,204,92,0.78)'
    });
  }
  function loopParticles(){
    ctx.clearRect(0,0,W,H);
    for(const p of particles){
      ctx.beginPath();
      ctx.arc(p.x,p.y,p.r,0,Math.PI*2);
      ctx.fillStyle = p.color;
      ctx.fill();
      p.x += p.dx; p.y += p.dy;
      if(p.x < -20 || p.x > W+20) p.dx *= -1;
      if(p.y < -20 || p.y > H+20) p.dy *= -1;
    }
    requestAnimationFrame(loopParticles);
  }
  loopParticles();

  /* ------------------ Cursor & trail ------------------ */
  const cursor = document.getElementById('cursor');
  function createTrail(x,y){
    const t = document.createElement('div');
    t.className = 'trail';
    const size = 6 + Math.random()*18;
    t.style.width = t.style.height = size + 'px';
    t.style.left = x + 'px'; t.style.top = y + 'px';
    t.style.background = Math.random()>0.6 ? 'rgba(185,0,0,0.12)' : 'rgba(255,205,75,0.06)';
    t.style.zIndex = 240;
    document.body.appendChild(t);
    setTimeout(()=>{ t.style.transition = 'opacity 900ms ease, transform 900ms ease'; t.style.opacity='0'; t.style.transform='scale(2)'; }, 20);
    setTimeout(()=> t.remove(), 950);
  }

  let mx = innerWidth/2, my = innerHeight/2;
  window.addEventListener('mousemove', (e)=>{
    mx = e.clientX; my = e.clientY;
    cursor.style.left = mx + 'px';
    cursor.style.top = my + 'px';
    createTrail(mx, my);
  });
  window.addEventListener('mousedown', ()=>{ cursor.classList.add('big'); playSoft(); });
  window.addEventListener('mouseup', ()=>{ cursor.classList.remove('big'); });

  /* ------------------ Scroll reveal (fade) ------------------ */
  const observer = new IntersectionObserver((entries)=> {
    entries.forEach(en => {
      if(en.isIntersecting) en.target.classList.add('show');
    });
  }, { threshold: 0.18 });
  document.querySelectorAll('[data-anim]').forEach(el => observer.observe(el));

  /* ------------------ UI bindings ------------------ */
  document.querySelectorAll('.badge, .nav-links a, .nav-btn, .cta-ghost').forEach(el=>{
    el.addEventListener('mouseenter', ()=> playSoft());
    el.addEventListener('click', ()=> playSoft());
  });

  // theme toggle
  const themeBtn = document.getElementById('themeToggle');
  themeBtn.addEventListener('click', ()=>{
    document.body.classList.toggle('light');
    playToggleTone();
    themeBtn.setAttribute('aria-pressed', String(document.body.classList.contains('light')));
  });

  // sound toggle (ambient)
  const soundBtn = document.getElementById('soundToggle');
  soundBtn.addEventListener('click', (e)=>{
    // enable audio context on first gesture
    ensureAudio();
    if(!ambientRunning){
      startAmbient();
      soundBtn.textContent = 'Som ativado';
      playToggleTone();
    } else {
      // toggle fade out/in
      if(!muted){
        if(masterGain) masterGain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.6);
        soundBtn.textContent = 'Som desativado';
        muted = true;
      } else {
        if(masterGain) masterGain.gain.exponentialRampToValueAtTime(0.6, audioCtx.currentTime + 0.8);
        soundBtn.textContent = 'Som ativado';
        muted = false;
      }
    }
  });

  // signature: visual on load, pen sound on first pointerdown
  prepareSignature();
  window.addEventListener('load', ()=>{
    if(!sessionStorage.getItem('sigPlayed')){
      animateSignatureVisualOnly();
      sessionStorage.setItem('sigPlayed','1');
    } else {
      // show final quickly
      if(sigPath) sigPath.style.strokeDashoffset = 0;
      if(sigText) sigText.style.opacity = 1;
    }
    // attach pen sound to first physical gesture to satisfy autoplay rules
    window.addEventListener('pointerdown', onFirstGesturePlayPen, { once: true });
  });

  // anchor smooth scroll
  document.querySelectorAll('a[href^="#"]').forEach(a=>{
    a.addEventListener('click', (ev)=>{
      const id = a.getAttribute('href').slice(1);
      const el = document.getElementById(id);
      if(el){ ev.preventDefault(); el.scrollIntoView({ behavior:'smooth', block:'start' }); }
    });
  });

  // resume audio context on first gesture (safety)
  function resumeOnGesture(){
    if(audioCtx && audioCtx.state === 'suspended') audioCtx.resume();
    window.removeEventListener('pointerdown', resumeOnGesture);
  }
  window.addEventListener('pointerdown', resumeOnGesture);
  </script>
</body>
</html>
